/**
 * AFCGlide Listings - Master Admin UI (v3.3 FIXED)
 * SIDEBAR PROTECTED - CONFLICTS RESOLVED
 */

/* ============================================================
   CRITICAL: FORCE SIDEBAR TO ALWAYS SHOW
   ============================================================ */
#adminmenuwrap,
#adminmenu,
#adminmenuback,
#adminmenumain {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Show all menu items by default */
li.menu-top,
.wp-submenu,
.wp-menu-separator {
    display: block !important;
}

/* ============================================================
   1. DASHBOARD & GLOBAL WRAPPER
   ============================================================ */
.afcglide-admin-wrapper,
.wrap.afcglide-dashboard {
    background-color: #f8fafc;
    padding: 30px;
    margin-left: -20px;
    min-height: 100vh;
}

/* ============================================================
   2. SHARED CARD UI (Apple-Style Depth)
   ============================================================ */
.afcglide-card,
.post-type-afcglide_listing .postbox {
    background: #ffffff !important;
    padding: 35px !important;
    /* Increased breathing room */
    border-radius: 20px !important;
    /* Softer curves */
    border: 1px solid rgba(226, 232, 240, 0.8) !important;
    font-family: 'Inter', sans-serif !important;
    box-shadow:
        0 4px 6px -1px rgba(0, 0, 0, 0.02),
        0 2px 4px -1px rgba(0, 0, 0, 0.02) !important;
    transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1) !important;
    /* Smooth "iOS" ease */
    margin-bottom: 25px !important;
}

.afcglide-card:hover,
.post-type-afcglide_listing .postbox:hover {
    transform: translateY(-2px) !important;
    box-shadow:
        0 20px 25px -5px rgba(0, 0, 0, 0.05),
        0 10px 10px -5px rgba(0, 0, 0, 0.01) !important;
    border-color: rgba(226, 232, 240, 1) !important;
}

/* ============================================================
   3. LISTING EDITOR LAYOUT (Full Width)
   ============================================================ */

/* Ensure side metaboxes are visible */
/* HIDE side metabox container since we moved everything to main */
.post-type-afcglide_listing #postbox-container-1 {
    display: block !important;
}

/* Force content area to be full width */
.post-type-afcglide_listing #postbox-container-2 {
    width: 100% !important;
    float: none !important;
    margin-right: 0 !important;
}

.post-type-afcglide_listing #post-body.columns-2 #postbox-container-2 {
    margin-right: 0 !important;
}

/* ============================================================
   4. TITLE HEADER POLISH (Glassmorphism Lite)
   ============================================================ */
.post-type-afcglide_listing #titlediv #titlewrap {
    background: rgba(255, 255, 255, 0.8) !important;
    backdrop-filter: blur(12px) !important;
    padding: 24px 32px !important;
    border-radius: 20px !important;
    border: 1px solid rgba(203, 213, 225, 0.6) !important;
    margin-bottom: 35px !important;
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.05) !important;
}

.post-type-afcglide_listing #titlediv #title {
    background: transparent !important;
    border: none !important;
    font-family: 'Inter', sans-serif !important;
    font-size: 32px !important;
    /* Slightly smaller for elegance */
    color: #334155 !important;
    /* FIXED: Changed from dark #0f172a to softer Slate 700 */
    font-weight: 500 !important;
    /* FIXED: Massive reduction from 800 to 500 */
    letter-spacing: -0.5px !important;
    padding: 0 !important;
}

/* ============================================================
   5. GPS COORDINATES LAYOUT
   ============================================================ */
.afcglide-gps-row {
    display: flex !important;
    gap: 20px !important;
    background: #f1f5f9 !important;
    padding: 20px !important;
    border-radius: 12px !important;
    border: 1px solid #e2e8f0 !important;
    margin-top: 15px;
}

.gps-field-group {
    flex: 1 !important;
    position: relative !important;
}

.gps-field-group label {
    display: block !important;
    font-size: 11px !important;
    text-transform: uppercase !important;
    font-weight: 800 !important;
    color: #64748b !important;
    margin-bottom: 8px !important;
}

.gps-field-group input {
    width: 100% !important;
    padding: 14px 16px 14px 42px !important;
    font-family: 'Inter', sans-serif !important;
    /* Switched from Courier for cleanliness */
    font-size: 14px !important;
    font-weight: 600 !important;
    color: #334155 !important;
    background: #ffffff !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 12px !important;
    transition: all 0.3s ease !important;
}

.gps-field-group input:focus {
    border-color: #10b981 !important;
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1) !important;
}

.gps-field-group::before {
    content: "üìç";
    position: absolute;
    left: 12px;
    top: 36px;
    font-size: 16px;
    z-index: 5;
}

/* ============================================================
   6. PROPERTY SPECS: THE "NO COMPROMISE" ALIGNMENT
   ============================================================ */
/* Force the container to be a horizontal row on your 19" screen */
.post-type-afcglide_listing .afcglide-details-grid {
    display: flex !important;
    gap: 20px !important;
    align-items: flex-end !important;
    /* Aligns inputs nicely */
    background: #f8fafc !important;
    /* Slightly distinct background */
    padding: 25px !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 12px !important;
    margin-top: 10px !important;
}

/* Ensure each item takes up equal space */
.post-type-afcglide_listing .afcglide-details-grid div {
    flex: 1 !important;
    min-width: 0 !important;
    /* Prevents overflow */
}

/* Fix for the "Black" labels - Force slate gray */
.post-type-afcglide_listing .afcglide-details-grid label {
    display: block !important;
    font-size: 10px !important;
    font-weight: 800 !important;
    text-transform: uppercase !important;
    letter-spacing: 1px !important;
    color: #64748b !important;
    /* Luxury Slate Gray */
    margin-bottom: 8px !important;
}

/* Force the Input Box Styling */
.post-type-afcglide_listing .afcglide-details-grid input {
    width: 100% !important;
    background: #ffffff !important;
    border: 1px solid #e2e8f0 !important;
    border-radius: 10px !important;
    padding: 14px !important;
    font-size: 15px !important;
    font-family: 'Inter', sans-serif !important;
    font-weight: 600 !important;
    color: #0f172a !important;
    transition: all 0.2s ease !important;
}

.post-type-afcglide_listing .afcglide-details-grid input:focus {
    border-color: #3b82f6 !important;
    /* Blue focus for specs */
    box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1) !important;
    outline: none !important;
    transform: translateY(-1px) !important;
}

/* ============================================================
   7. THE EMERALD PUBLISH BUTTON (RE-ALIGNED)
   ============================================================ */
.post-type-afcglide_listing .afcglide-publish-btn {
    background: #10b981 !important;
    /* EMERALD */
    color: #ffffff !important;
    border: none !important;
    border-radius: 50px !important;
    width: 100% !important;
    height: 55px !important;
    font-weight: 800 !important;
    text-transform: uppercase !important;
    cursor: pointer !important;
    box-shadow:
        0 10px 15px -3px rgba(16, 185, 129, 0.3),
        0 4px 6px -2px rgba(16, 185, 129, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1) !important;
}

.post-type-afcglide_listing .afcglide-publish-btn:hover {
    background: #059669 !important;
    transform: translateY(-2px) scale(1.01) !important;
    box-shadow:
        0 20px 25px -5px rgba(16, 185, 129, 0.4),
        0 10px 10px -5px rgba(16, 185, 129, 0.2) !important;
}

/* ============================================================
   8. AMENITY CHIPS (4-COLUMN GRID)
   ============================================================ */
.post-type-afcglide_listing .afcglide-amenities-grid {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 12px !important;
}

.post-type-afcglide_listing .afcglide-amenity-label {
    background: #ffffff !important;
    border: 1px solid #e2e8f0 !important;
    padding: 10px !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
    font-size: 13px !important;
    color: #334155 !important;
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
}

/* Green Glow when Checked */
.post-type-afcglide_listing .afcglide-amenity-label:has(input:checked) {
    background: #ecfdf5 !important;
    border-color: #10b981 !important;
    color: #064e3b !important;
    box-shadow: 0 0 0 1px #10b981 !important;
    /* Clean ring instead of fuzzy shadow */
}

/* ============================================================
   9. METABOX STYLING (The Container)
   ============================================================ */
.post-type-afcglide_listing .postbox {
    /* Styles are now handled by the shared .afcglide-card rule at the top */
    /* This section remains for specific overrides if needed */
    overflow: hidden;
}

.post-type-afcglide_listing .postbox .hndle,
.post-type-afcglide_listing .postbox h2.hndle {
    background: transparent !important;
    /* Clean header */
    border-bottom: 1px solid #f1f5f9 !important;
    color: #1e293b !important;
    padding: 20px 35px !important;
    font-family: 'Inter', sans-serif !important;
    font-size: 15px !important;
    font-weight: 700 !important;
    letter-spacing: 0.02em !important;
    text-transform: uppercase !important;
    text-shadow: none !important;
}

.post-type-afcglide_listing .postbox .inside {
    padding: 25px !important;
    background: #ffffff !important;
}

/* ============================================================
   10. HIDE WORDPRESS CLUTTER (CAREFULLY)
   ============================================================ */

/* Only hide specific Elementor/Hello theme items */
.post-type-afcglide_listing #toplevel_page_elementor,
.post-type-afcglide_listing #toplevel_page_hello-theme-settings,
.post-type-afcglide_listing #edit-slug-box,
.post-type-afcglide_listing #authordiv {
    display: none !important;
}

/* ============================================================
   11. RESPONSIVE ADJUSTMENTS
   ============================================================ */
@media (max-width: 768px) {

    .afcglide-gps-row,
    .afcglide-details-grid,
    .afcglide-amenities-grid {
        flex-direction: column !important;
        grid-template-columns: 1fr !important;
    }
}

/* ============================================================
   NEW: PROPERTY SPECS (Price, Beds, Baths, SqFt)
   ============================================================ */
.afcglide-details-grid {
    display: flex !important;
    gap: 20px !important;
    background: #f1f5f9 !important;
    /* Matches your GPS background */
    padding: 20px !important;
    border-radius: 12px !important;
    border: 1px solid #e2e8f0 !important;
    margin-top: 15px;
}

.afcglide-details-grid div {
    flex: 1 !important;
}

.afcglide-details-grid label {
    display: block !important;
    font-size: 11px !important;
    text-transform: uppercase !important;
    font-weight: 800 !important;
    color: #64748b !important;
    /* That Slate Gray you like */
    margin-bottom: 8px !important;
}

.afcglide-details-grid input {
    width: 100% !important;
    padding: 12px !important;
    background: #ffffff !important;
    border: 1px solid #cbd5e1 !important;
    border-radius: 8px !important;
    font-weight: 700 !important;
    color: #1e293b !important;
}

/* ============================================================
   12. LUXURY USER PROFILE (HIDE WP CLUTTER)
   ============================================================ */
body.profile-php,
body.user-edit-php {
    background: #ffffff !important;
}

body.profile-php #wpcontent,
body.user-edit-php #wpcontent {
    background: #ffffff !important;
    padding-left: 20px !important;
}

/* Hide the standard "Personal Options" header and table */
body.profile-php h2:first-of-type,
body.user-edit-php h2:first-of-type,
body.profile-php .form-table:first-of-type,
body.user-edit-php .form-table:first-of-type {
    display: none !important;
}

/* Hide "Name", "Contact Info", "About Yourself" Headers */
body.profile-php h2:nth-of-type(2),
body.profile-php h2:nth-of-type(3),
body.profile-php h2:nth-of-type(4),
body.user-edit-php h2:nth-of-type(2),
body.user-edit-php h2:nth-of-type(3),
body.user-edit-php h2:nth-of-type(4) {
    display: none !important;
}

/* Hide their corresponding form tables */
body.profile-php .form-table:nth-of-type(2),
body.profile-php .form-table:nth-of-type(3),
body.profile-php .form-table:nth-of-type(4),
body.user-edit-php .form-table:nth-of-type(2),
body.user-edit-php .form-table:nth-of-type(3),
body.user-edit-php .form-table:nth-of-type(4) {
    display: none !important;
}

/* Keep "Account Management" (Password) visible but styled better */
body.profile-php h2:nth-of-type(5),
body.user-edit-php h2:nth-of-type(5) {
    font-family: 'Inter', sans-serif !important;
    font-weight: 700 !important;
    font-size: 18px !important;
    margin-top: 40px !important;
    margin-bottom: 20px !important;
    color: #1e293b !important;
    border-bottom: 2px solid #f1f5f9;
    padding-bottom: 10px;
}

/* Style the App Password section */
body.profile-php .application-passwords-section,
body.user-edit-php .application-passwords-section {
    background: #f8fafc !important;
    padding: 20px !important;
    border-radius: 12px !important;
    border: 1px solid #e2e8f0 !important;
    margin-top: 20px !important;
}

/* ============================================================
   13. MULTI-COLOR PASTEL HEADERS (The "Rainbow" Update)
   ============================================================ */
/* Common Header Styles for proper fit */
.post-type-afcglide_listing .postbox .hndle {
    border-radius: 20px 20px 0 0 !important;
    /* Match card radius */
    border-bottom: 1px solid rgba(0, 0, 0, 0.05) !important;
    padding: 20px 35px !important;
    /* Ensure nice padding */
}

/* 1. Agent Branding - Pastel Green (Requested) */
#afc_agent .hndle {
    background: #dcfce7 !important;
    /* Pastel Green */
    color: #166534 !important;
    /* Dark Green Text */
}

/* 2. Visual Command Center - Pastel Purple */
#afc_media_hub .hndle {
    background: #f3e8ff !important;
    /* Purple 100 */
    color: #581c87 !important;
}

/* 3. Main Slider - Pastel Pink */
#afc_slider .hndle {
    background: #fce7f3 !important;
    /* Pink 100 */
    color: #831843 !important;
}

/* 4. Property Specs - Pastel Orange */
#afc_details .hndle {
    background: #ffedd5 !important;
    /* Orange 100 */
    color: #7c2d12 !important;
}

/* 5. Location & GPS - Pastel Green */
#afc_location .hndle {
    background: #dcfce7 !important;
    /* Emerald 100 */
    color: #14532d !important;
}

/* 6. Amenities - Pastel Cyan */
#afc_amenities .hndle {
    background: #cffafe !important;
    /* Cyan 100 */
    color: #164e63 !important;
}

/* 7. Publish - Pastel Indigo */
#afc_publish_box .hndle {
    background: #e0e7ff !important;
    /* Indigo 100 */
    color: #312e81 !important;
}

/* ============================================================
   14. TOP SECTION HEADERS (Title & Description)
   ============================================================ */

/* A. MAIN TITLE LISTING HEADER (Pastel Blue) */
/* We fake a "header" using ::before on the titlewrap container */
.post-type-afcglide_listing #titlediv #titlewrap {
    padding-top: 60px !important;
    /* Make room for the fake header */
    position: relative !important;
    overflow: hidden !important;
}

.post-type-afcglide_listing #titlediv #titlewrap::before {
    content: "üìù Listing Title";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 50px;
    background: #dbeafe !important;
    /* Blue 100 */
    color: #1e40af !important;
    /* Blue 800 */
    display: flex;
    align-items: center;
    padding-left: 35px;
    font-family: 'Inter', sans-serif;
    font-weight: 500 !important;
    /* FIXED: Reduced to 500 (Medium) - 400 might be too thin for a header */
    font-size: 15px;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

/* B. PROPERTY DESCRIPTION HEADER (Pastel Lime/Green) */
/* This targets the custom <h3> we injected */
.post-type-afcglide_listing .afc-section-header {
    background: #ecfccb !important;
    /* Lime 100 */
    padding: 15px 30px !important;
    /* Slightly reduced padding */
    border-radius: 20px 20px 0 0 !important;
    /* Top rounded corners */
    border: 1px solid rgba(226, 232, 240, 0.8) !important;
    border-bottom: none !important;
    margin-bottom: 0 !important;
    /* Pull it down to touch the editor */
    position: relative;
    top: 2px;
    z-index: 15 !important;
    /* Ensure Header is above */
}

.post-type-afcglide_listing .afc-section-header h3 {
    margin: 0 !important;
    font-family: 'Inter', sans-serif !important;
    font-size: 14px !important;
    font-weight: 500 !important;
    /* Reduced to Medium */
    text-transform: none !important;
    color: #4d7c0f !important;
    letter-spacing: normal !important;
}

/* Style the Editor Container to match the card look (Bottom rounded) */
.post-type-afcglide_listing #postdivrich {
    background: #ffffff !important;
    border-radius: 0 0 20px 20px !important;
    border: 1px solid rgba(226, 232, 240, 0.8) !important;
    border-top: none !important;
    /* Seamless connection to header */
    padding: 0 !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.02) !important;
    /* Removed overflow: hidden to prevent clipping scrollbars */
    position: relative !important;
    z-index: 10 !important;
    /* Ensure it is clickable */
}

/* Fix Editor Content Font - FORCE BLACK TEXT */
.post-type-afcglide_listing .wp-editor-area {
    font-family: 'Inter', sans-serif !important;
    font-size: 14px !important;
    color: #000000 !important;
    /* FORCE PURE BLACK */
    background: #ffffff !important;
    line-height: 1.6 !important;
    padding: 20px !important;
    border: none !important;
    opacity: 1 !important;
    height: 300px !important;
    /* Force a minimum height */
}

/* ============================================================
   15. VISUAL COMMAND CENTER (Vertical Fix)
   ============================================================ */
/* Switch from Flex Row to Column as requested */
.post-type-afcglide_listing .afcglide-media-hub {
    display: flex !important;
    flex-direction: column !important;
    /* Forces vertical stacking */
    gap: 30px !important;
    width: 100% !important;
}

.post-type-afcglide_listing .afcglide-hero-section,
.post-type-afcglide_listing .afcglide-stack-section {
    width: 100% !important;
    flex: none !important;
}

/* ============================================================
   16. GLOBAL PASTEL BLUE BUTTONS (The "Magnificent" Finish)
   ============================================================ */
/* Target all our custom upload/action buttons EXCEPT Publish */
.post-type-afcglide_listing .afcglide-upload-image-btn,
/* Agent & Hero */
.post-type-afcglide_listing .afcglide-add-stack-image-btn,
/* Stack */
.post-type-afcglide_listing .afcglide-add-slider-images-btn

/* Slider */
    {
    background: #bfdbfe !important;
    /* Pastel Blue */
    color: #1e3a8a !important;
    /* Dark Blue Text */
    border: 1px solid #93c5fd !important;
    border-radius: 12px !important;
    padding: 12px 24px !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    font-size: 13px !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.165, 0.84, 0.44, 1) !important;
    box-shadow: 0 4px 6px -1px rgba(30, 58, 138, 0.1) !important;
    margin-top: 10px !important;
    outline: none !important;
}

.post-type-afcglide_listing .afcglide-upload-image-btn:hover,
.post-type-afcglide_listing .afcglide-add-stack-image-btn:hover,
.post-type-afcglide_listing .afcglide-add-slider-images-btn:hover {
    background: #93c5fd !important;
    /* Slightly darker pastel on hover */
    transform: translateY(-2px) !important;
    box-shadow: 0 10px 15px -3px rgba(30, 58, 138, 0.15) !important;
}

/* Ensure Publish Button stays Emerald (The "Bottom One") */
.post-type-afcglide_listing .afcglide-publish-btn {
    /* Rules already set above, but just reinforcing that ID/class specificity protects it */
}

/* ============================================================
   17. HIDE "ADD MEDIA" BUTTON (Too Wordpressy)
   ============================================================ */
.post-type-afcglide_listing #wp-content-media-buttons {
    display: none !important;
}

/* ============================================================
   18. RAINBOW FOCUS GLOW (Context-Aware Inputs)
   ============================================================ */
/* 1. Agent Branding - Green Focus (Updated) */
#afc_agent input:focus,
#afc_agent select:focus,
#afc_agent textarea:focus {
    border-color: #22c55e !important;
    /* Green Focus */
    box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.15) !important;
}

/* 2. Media Hub - Purple Focus */
#afc_media_hub input:focus {
    border-color: #a855f7 !important;
    box-shadow: 0 0 0 4px rgba(168, 85, 247, 0.15) !important;
}

/* 3. Slider - Pink Focus */
#afc_slider input:focus {
    border-color: #ec4899 !important;
    box-shadow: 0 0 0 4px rgba(236, 72, 153, 0.15) !important;
}

/* 4. Property Specs - Orange Focus */
#afc_details input:focus {
    border-color: #f97316 !important;
    box-shadow: 0 0 0 4px rgba(249, 115, 22, 0.15) !important;
}

/* 5. Location - Green Focus */
#afc_location input:focus {
    border-color: #22c55e !important;
    box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.15) !important;
}

/* 6. Amenities - Cyan Focus */
#afc_amenities input:focus {
    border-color: #06b6d4 !important;
    box-shadow: 0 0 0 4px rgba(6, 182, 212, 0.15) !important;
}

/* ============================================================
   19. WATERFALL ENTRANCE ANIMATION (Smooth Load)
   ============================================================ */
@keyframes slideUpFade {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Apply animation to cards (metaboxes) */
.post-type-afcglide_listing .postbox {
    animation: slideUpFade 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards !important;
    opacity: 0;
    /* Hidden initially */
}

/* Stagger the delays for the cascade effect */
.post-type-afcglide_listing .postbox:nth-of-type(1) {
    animation-delay: 0.1s !important;
}

.post-type-afcglide_listing .postbox:nth-of-type(2) {
    animation-delay: 0.2s !important;
}

.post-type-afcglide_listing .postbox:nth-of-type(3) {
    animation-delay: 0.3s !important;
}

.post-type-afcglide_listing .postbox:nth-of-type(4) {
    animation-delay: 0.4s !important;
}

.post-type-afcglide_listing .postbox:nth-of-type(5) {
    animation-delay: 0.5s !important;
}

.post-type-afcglide_listing .postbox:nth-of-type(6) {
    animation-delay: 0.6s !important;
}

.post-type-afcglide_listing .postbox:nth-of-type(7) {
    animation-delay: 0.7s !important;
}

/* ============================================================
   20. TOGGLE SWITCHES (iOS Style)
   ============================================================ */
.switch {
    position: relative;
    display: inline-block;
    width: 40px;
    height: 24px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    -webkit-transition: .4s;
    transition: .4s;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    -webkit-transition: .4s;
    transition: .4s;
}

input:checked+.slider {
    background-color: #10b981;
    /* Green when active */
}

input:focus+.slider {
    box-shadow: 0 0 1px #10b981;
}

input:checked+.slider:before {
    -webkit-transform: translateX(16px);
    -ms-transform: translateX(16px);
    transform: translateX(16px);
}

/* Rounded sliders */
.slider.round {
    border-radius: 34px;
}

.slider.round:before {
    border-radius: 50%;
}